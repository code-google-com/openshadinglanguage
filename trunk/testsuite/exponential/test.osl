#ifndef M_E
#define M_E 2.718281828459
#endif


shader
test ()
{
    {
        float a = M_E;
        float b = 27.0;
        printf ("  log (%g) = %g\n", a, log(a));
        printf ("  log (%g, %g) = %g\n", a, b, log(a,b));
        printf ("  log2 (%g) = %g\n", a, log2(a));
        printf ("  log10 (%g) = %g\n", a, log10(a));
        printf ("  logb (%g) = %g\n", a, logb(a));
        printf ("  exp (%g) = %g\n", a, exp(a));
        printf ("  exp2 (%g) = %g\n", a, exp2(a));
        printf ("  expm1 (%g) = %g\n", a, expm1(a));
        a = 10.0*M_E;
        printf ("  log (%g) = %g\n", a, log(a));
        printf ("  log (%g, %g) = %g\n", a, b, log(a,b));
        printf ("  log2 (%g) = %g\n", a, log2(a));
        printf ("  log10 (%g) = %g\n", a, log10(a));
        printf ("  logb (%g) = %g\n", a, logb(a));
        printf ("  exp (%g) = %g\n", a, exp(a));
        printf ("  exp2 (%g) = %g\n", a, exp2(a));
        printf ("  expm1 (%g) = %g\n", a, expm1(a));
    }

    { 
        vector a = M_E;
        float b = 27.0;
        printf ("  log (%g) = %g\n", a, log(a));
        printf ("  log (%g, %g) = %g\n", a, b, log(a,b));
        printf ("  log2 (%g) = %g\n", a, log2(a));
        printf ("  log10 (%g) = %g\n", a, log10(a));
        printf ("  logb (%g) = %g\n", a, logb(a));
        printf ("  exp (%g) = %g\n", a, exp(a));
        printf ("  exp2 (%g) = %g\n", a, exp2(a));
        printf ("  expm1 (%g) = %g\n", a, expm1(a));
        a = 10.0*M_E;
        printf ("  log (%g) = %g\n", a, log(a));
        printf ("  log (%g, %g) = %g\n", a, b, log(a,b));
        printf ("  log2 (%g) = %g\n", a, log2(a));
        printf ("  log10 (%g) = %g\n", a, log10(a));
        printf ("  logb (%g) = %g\n", a, logb(a));
        printf ("  exp (%g) = %g\n", a, exp(a));
        printf ("  exp2 (%g) = %g\n", a, exp2(a));
        printf ("  expm1 (%g) = %g\n", a, expm1(a));
    }

    printf (" varying:\n");
    {
        float a = u;
        float b = 27.0;
        printf ("  log (%g) = %g\n", a, log(a));
        printf ("  log (%g, %g) = %g\n", a, b, log(a,b));
        printf ("  log2 (%g) = %g\n", a, log2 (a));
        printf ("  log10 (%g) = %g\n", a, log10(a));
        printf ("  logb (%g) = %g\n", a, logb(a));
        printf ("  exp (%g) = %g\n", a, exp(a));
        printf ("  exp2 (%g) = %g\n", a, exp2(a));
        printf ("  expm1 (%g) = %g\n", a, expm1(a));
    }
    {
        color a = u;
        float b = 27.0;
        printf ("  log (%g) = %g\n", a, log(a));
        printf ("  log (%g, %g) = %g\n", a, b, log(a,b));
        printf ("  log2 (%g) = %g\n", a, log2(a));
        printf ("  log10 (%g) = %g\n", a, log10(a));
        printf ("  logb (%g) = %g\n", a, logb(a));
        printf ("  exp (%g) = %g\n", a, exp(a));
        printf ("  exp2 (%g) = %g\n", a, exp2(a));
        printf ("  expm1 (%g) = %g\n", a, expm1(a));
    }
}
